---
layout: post
categories : [Linux, Optimus]
tags : [Install, Linux, Optimus, Drivers, 319.12, Beta, Ubuntu, Debian, disable Nouveau, Nouveau Module Kernel]
title : Install Optimus Drivers 319.12 BETA On Linux
---

<img class="aligncenter" alt="RailsPanel Screenshot" src="{{BASE_PATH}}/img/linus_torvald_optimus.jpg" width="571" height="261" />

After getting some trouble to install *latest Nvidia Drivers for Optimus*, I share my experience and hope it will help some people (: .

*Note :* The installation has been tested on Ubuntu 12.04 LTS and Lenovo W530 with Nvidia 5100M. 
Nvidia say it should work on any Optimus card, but be carefull ;).
This "guide" is not especially intended for Ubuntu Distributions !

*First, be sure to meet the minimum requirements* :
* Randr 1.4
* X.org 1.13

Then : *Download Driver from Nvidia Website* <a href="http://www.nvidia.com/object/linux-display-amd64-319.12-driver.html">64 Bit Version</a> and <a href="http://www.nvidia.com/object/linux-display-ia32-319.12-driver.html">32 Bits version</a>

After that, you have to *blacklist nouveau* , which is the default standard kernel module.
You can do that with *sudoedit /etc/modprobe.d/nvidia-graphics-drivers.conf*
and add this :
<pre><code class="bash">
blacklist nouveau
options nouveau modeset=0
</code></pre>

*Then Reboot* 
/!\ (Add this page into your favorites, and access it through another computer, or print it)

The next step is to *kill your X server*, on Ubuntu you can do this with 
*sudo service lightdm stop*
OR 
*sudo service gdm stop*
OR 
*sudo service kde stop*
OR
*You understood, i'm sure, not gonna list all the desktop environments..*

Then, switch TTY if the actual crashed (CTRL + ALT + F1)

*The next step is to install Nvidia drivers* : 

<pre><code style="bash">
chmod u+x NVIDIA-Linux-x86_64-319.12.run
sudo ./NVIDIA-Linux-x86_64-319.12.run
</code></pre>


Install it, then before rebooting, *backup your xorg.conf* : 

<pre><code style="bash">
cp /etc/X11/xorg.conf /etc/X11/xorg.conf.mybak
</code></pre>

Then replace all your /etc/X11/xorg.conf by this one : 

<pre><code class="bash">
Section "ServerLayout"
	Identifier "layout"
	Screen 0 "nvidia"
	Inactive "intel"
EndSection
Section "Device"
	Identifier "nvidia"
	Driver "nvidia"
	BusID "<BusID for NVIDIA device here>"
EndSection
Section "Screen"
	Identifier "nvidia"
	Device "nvidia"
	# Uncomment this line if your computer has no display devices connected to
	# the NVIDIA GPU.  Leave it commented if you have display devices
	# connected to the NVIDIA GPU that you would like to use.
	#Option "UseDisplayDevice" "none"
EndSection
Section "Device"
	Identifier "intel"
	Driver "modesetting"
EndSection
Section "Screen"
	Identifier "intel"
	Device "intel"
EndSection
	
</code>
</pre>


Add those line to your *~/.xinitrc* : 
<pre><code class="bash">
xrandr --setprovideroutputsource modesetting NVIDIA-0
xrandr --auto
</code></pre>

Then reboot, and voila !

Hope this will help you, let me know if it worked for you on my Twitter : "@Erowtom (@Erowtom's Twitter)":http://twitter.com/erowtom
And if my anglishe is too bad, let me a comment, I will correct it ;)

*What do if your getting trouble :* 
1- Verify that you blacklisted nouveau kernel module
2- Verify that you copied all content correctly to xorg.conf
3- Verify that you have optimus...
4- Go to your bios, and verify that Optimus is correctly enabled
5- If nothing can't work, do all steps at reverse, copy back your xorg.conf.mybak to xorg.conf and enable nouveau module, then reboot.

